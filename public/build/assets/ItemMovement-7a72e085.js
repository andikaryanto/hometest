import{R as f,r as h,t as T,a as t,j as m}from"./app-d2a3d537.js";import{k as c}from"./Api-80eca046.js";import{p as _,a as d,b as w,d as k}from"./Request-a7bce2e9.js";import"./app-fb271a11.js";import{F as D}from"./Form-5433bd3a.js";import{I as p}from"./InputLabel-3da68630.js";import{P as v}from"./PrimaryButton-c4bee480.js";import{T as g}from"./TextInput-21fcf679.js";import{a as I}from"./ItemMovementItem-e5a470fb.js";import{T as l}from"./Toast-3fee0a06.js";import M from"./MovementTypeListPopoberSearch-d0231758.js";import F from"./ItemMovementItemtList-8b7f0ead.js";import"./MovementType-9ffc2d4d.js";import"./Item-5a97d1bd.js";import"./Uom-6085d693.js";import"./ItemMargin-b56d4323.js";import"./PopoverInput-8f306410.js";import"./index.esm-2b0f1775.js";import"./ItemListPopoverSearch-f8cb5ac6.js";import"./Helper-e1a63998.js";import"./TableDetail-31226791.js";import"./BorderedRoundedButton-600ca3a5.js";import"./Button-6a81ea58.js";import"./NoData-9ab3477f.js";import"./Pill-07fbc269.js";import"./UomListPopoverInput-4daf57fd.js";import"./index.es-302dcb1a.js";function ie({title:b,item:S,onSubmit:n,...j}){const[e,i]=f(I),[u,s]=h.useState(!1),[C,o]=f(T);h.useState(!1);const y=a=>{a.preventDefault(),s(!0),e.id==0?_(c,d(),e).then(r=>{r.status==201&&(i(r.data.data._resources),o({color:l.success,message:"Data berhasil disimpan"}),n()),s(!1)}).catch(r=>{s(!1),o({color:l.danger,message:"Data gagal disimpan"})}):w(c+"/"+e.id,d(),e).then(r=>{r.status==200&&(i(r.data.data._resources),o({color:l.success,message:"Data berhasil disimpan"}),n()),s(!1)}).catch(r=>{o({color:l.danger,message:"Data gagal disimpan"}),s(!1)})},N=a=>{i({...e,movement_type:a})},x=()=>{s(!1),k(c+"/"+e.id,d()).then(a=>{a.status==200&&(i({id:null,name:"",description:""}),n()),s(!1)})};return t("div",{className:"w-full",children:e?m("div",{className:"flex justify-between",children:[m(D,{className:"w-1/4 text-gray-400 border-gray-200 border border-opacity-20 mr-10",children:[m("div",{className:"mb-5 text-2xl",children:[e.id!=0?"Edit":"Tambah"," ",b]}),m("div",{children:[t(p,{htmlFor:"name",value:"Nama"}),t(g,{id:"name",type:"text",name:"name",value:e.movement_number,readOnly:!0,className:"mt-1 block w-full h-8",isFocused:!0,placeholder:"[Otomatis Terisi]",onChange:a=>i({...e,movement_number:a.target.value})})]}),m("div",{className:"mt-4",children:[t(p,{htmlFor:"description",value:"Deskripsi"}),t(g,{id:"description",type:"text",name:"description",value:e.description,className:"mt-1 block w-full h-8",onChange:a=>i({...e,description:a.target.value})})]}),m("div",{className:"w-full mr-2 mt-4",children:[t(p,{htmlFor:"clinic",value:"Tipe"}),t(M,{item:e.movement_type,className:"h-8 w-96 mr-2",onSelect:N})]}),m("div",{className:"flex items-center justify-end mt-6",children:[t(v,{className:"ml-4 bg-green-500 hover:bg-green-400",disabled:u,onClick:y,children:"Simpan"}),t(v,{className:"ml-4 bg-red-500 hover:bg-red-400",disabled:u||e.id==null,onClick:x,children:"Hapus"})]})]}),t("div",{className:"w-full",children:t(F,{itemMovement:e})})]}):null})}export{ie as default};
