import{R as x,c as P,r as m,p as M,q as B,j as i,a as t}from"./app-d2a3d537.js";import"./app-fb271a11.js";import{g as R,a as T,c as A}from"./Request-a7bce2e9.js";import"./index.es-302dcb1a.js";import{T as F,a as I,b as o}from"./TableDetail-31226791.js";import{m as O,b as j,d as D}from"./MedicalCheckup-84b76896.js";import{e as E}from"./Api-80eca046.js";import{S as V}from"./SlideSideBar-5ef5a5e3.js";import{P as a}from"./Pill-07fbc269.js";import{C as q}from"./CircleActionButton-397e1f15.js";import z from"./MedicalCheckupInformation-34fcd2c1.js";import K from"./MedicalCheckupFilter-1b626876.js";import{g as L}from"./Helper-e1a63998.js";import $ from"./MedicalCheckupItem-38621e6f.js";import"./index.esm-2b0f1775.js";import"./BorderedRoundedButton-600ca3a5.js";import"./Button-6a81ea58.js";import"./TextInput-21fcf679.js";import"./PrimaryButton-c4bee480.js";import"./NoData-9ab3477f.js";import"./CheckupRecord-2fa0f175.js";import"./Registration-c85af660.js";import"./Doctor-8ebd7b82.js";import"./Clinic-f89fd43c.js";import"./VisitType-0f2b0c06.js";import"./Patient-e8af8ff9.js";import"./HealthWorker-225f8e62.js";import"./Certificate-b20e9c29.js";import"./ThemeButton-138f6990.js";import"./PatientInformation-caca90f6.js";import"./ClearButton-f395bb26.js";import"./MedicalCheckupHIstoryList-4ad5539b.js";import"./MedicalCheckupHIstoryDetail-844fa362.js";import"./InputLabel-3da68630.js";import"./Panel-b158e787.js";import"./ClinicListSelectInput-e4f3cbe0.js";import"./PopoverInput-8f306410.js";import"./ButtonLink-1059a812.js";import"./Toggle-9f9d4191.js";import"./Toast-3fee0a06.js";import"./ResponseMessages-5367e22c.js";function Ie({}){const[c,f]=x(O),[G,_]=x(j),l=P(D),[k,p]=m.useState(!1),[s,d]=m.useState(M()),b=B(),h=L(b,"page"),n=(e={})=>{l.clinic.id>0&&(e={...e,clinic_id:l.clinic.id}),l.medical_record_number!=""&&(e={...e,medical_record_number:l.medical_record_number}),R(E,T(),e).then(r=>{r.status==200&&f(r.data.data)}).catch(r=>{})},N=e=>{d({...s,keyword:e.target.value}),n({...s,keyword:e.target.value})},u=e=>{_(e),p(!0)},C=e=>{d({...s,page:e}),n({...s,page:e})},v=()=>h=="prescription"?[{caption:"Resep"}]:[{caption:"Bayar",href:A.web_url+"/payment/add"}],w=(e,r)=>{e.href!=null&&e.caption=="Bayar"&&(window.location=e.href+"?medical_checkup_id="+r.id),e.caption=="Resep"&&u(r)};let g=t(z,{title:"Informasi Pemeriksaan Pasien"});h=="prescription"&&(g=t($,{title:"Resep",onManipulate:()=>n(s)}));const y=()=>{n(s)};return m.useEffect(()=>{n(s)},[]),i("div",{className:"flex",children:[t(V,{className:"w-10/12",isOpen:k,onClose:()=>p(!1),position:"left",isScrollabe:!1,title:"Resep",children:t("div",{className:"flex",children:g})}),t(K,{isVisible:!0,className:"w-64",onFilterApply:y}),t(F,{text:"Kasir",columns:["No","Periksa Pasien","Pasien","Poli","Aksi"],onSearch:N,onPageChanged:C,showAddButton:!1,page:c._paging.page,size:c._paging.limit,totalData:c._paging.total_data,children:c._resources&&c._resources.map((e,r)=>{const S=(c._paging.page-1)*c._paging.limit+r+1;return i(I,{addSpace:!0,onDoubleClick:()=>u(e),children:[t(o,{children:S}),i(o,{children:[t("span",{children:e.checkup_number}),t("div",{className:"flex items-center text-sm",children:t("div",{className:"mr-2",children:e.created_at})}),i("div",{className:"flex text-sm",children:[t(a,{className:`mb-1 text-xs ${e.payment?"bg-green-600":"bg-red-600"} text-white mr-2`,children:e.payment?"Sudah Bayar #"+e.payment.payment_number:"Belum Bayar"}),e.is_prescription_given&&t(a,{className:"text-xs bg-yellow-600 text-white mr-2",children:"Sudah Obat"})]})]}),i(o,{children:[i("div",{className:"flex items-center",children:[t("div",{className:"mr-2",children:e.checkup_record.registration.patient.person.name}),t(a,{className:"text-xs bg-green-600 text-white mr-2",children:e.checkup_record.registration.patient.medical_record_number})]}),i("div",{className:"text-sm",children:[e.checkup_record.registration.patient.person.gender.name," â€¢ ",e.checkup_record.registration.patient.person.age," Tahun"]}),t("div",{className:"flex text-xs",children:t(a,{className:"text-xs bg-green-600 text-white mr-2",children:e.checkup_record.registration.registration_status.name})})]}),i(o,{children:[t("div",{className:"flex items-center",children:t("div",{className:"mr-2",children:e.checkup_record.registration.clinic.name})}),t("div",{className:"flex text-xs mb-2",children:t(a,{className:"text-xs bg-blue-500 text-white mr-2",children:e.doctor.name})}),i("div",{className:"flex text-xs mb-2",children:[t(a,{className:"text-xs bg-gray-500 text-white mr-2",children:e.checkup_record.registration.registration_type.name}),t(a,{className:"text-xs bg-green-600 text-white",children:e.checkup_record.registration.visit_type.name})]}),e.medical_checkup?t("div",{className:"flex text-xs",children:t(a,{className:"text-xs bg-gray-500 text-white mr-2",children:"Sudah diperiksa dokter"})}):null]}),t(o,{className:"items-center",children:t(q,{items:v(),selectedItem:e,onOptionClick:w,className:"text-xs p-1 rounded-lg"})})]})})})]})}export{Ie as default};
