import{r as a,p as N,a as o,j as R}from"./app-d2a3d537.js";import{C as j}from"./Api-80eca046.js";import{g as B,a as E}from"./Request-a7bce2e9.js";import{f as I}from"./Helper-e1a63998.js";import{u as M,a as A}from"./app-fb271a11.js";import{T as D,a as O,b as n,B as z}from"./TableDetail-31226791.js";import"./PopoverInput-8f306410.js";import{P as L}from"./PopoverMultiInput-58ebecca.js";import{t as h}from"./Treatment-efb1ba63.js";import"./index.esm-2b0f1775.js";import"./BorderedRoundedButton-600ca3a5.js";import"./Button-6a81ea58.js";import"./TextInput-21fcf679.js";import"./PrimaryButton-c4bee480.js";import"./NoData-9ab3477f.js";import"./Pill-07fbc269.js";import"./Clinic-f89fd43c.js";function re({onSelect:i,items:m=[],...u}){const{theme:f}=M(),{borderTheme:T}=A(f),[r,_]=a.useState({_resources:[],_paging:{}}),[s,c]=a.useState([]),[v,U]=a.useState({id:0,name:"",concat_name:""}),[w,d]=a.useState(!1),[p,S]=a.useState(N()),P=e=>{d(e)},g=(e={})=>{B(j,E(),e).then(t=>{t.status==200&&_(t.data.data)}).catch(t=>{})},b=e=>{S({...p,keyword:e.target.value}),g({...p,keyword:e.target.value})},k=e=>{s.find(t=>t.id==e.id)==null&&(c(t=>[...t,e]),i([...s,e]))},x=()=>{i(h),setSelectedTreatment({...h,concat_name:""}),d(!1)},y=e=>{const t=s.filter(l=>l.id!==e.id);c(t),i(t)};a.useEffect(()=>{g(p)},[]),a.useEffect(()=>{m.length>0&&c(m)},[m]);const C=["No","Nama","Tarif","Aksi"];return o(L,{...u,onRemove:y,onClear:x,value:v.concat_name,items:s,keyValue:"name_price",placeholder:"Cari penyakit...",onChange:b,onPopoverState:P,isOpen:w,children:o(D,{text:"Tenaga Medis",columns:C,className:`rounded-lg hadow-lg p-4 ${T} shadow`,showAddButton:!1,page:r._paging.page,size:r._paging.limit,totalData:r._paging.total_data,showRefresh:!1,showSearch:!1,showResultPage:!1,children:r._resources.map((e,t)=>{const l=(r._paging.page-1)*r._paging.limit+t+1;return R(O,{children:[o(n,{children:l}),o(n,{children:e.name}),o(n,{children:I(e.price)}),o(n,{className:"items-center",children:o(z,{onClick:()=>k(e),className:"bg-green-500 text-white hover:bg-green-400 hover:text-gray-200",children:" Pilih"})})]},t)})})})}export{re as default};
