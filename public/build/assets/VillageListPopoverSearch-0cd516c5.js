import{r as i,p as C,a,j as N}from"./app-d2a3d537.js";import{I as B}from"./Api-80eca046.js";import{g as D,a as R}from"./Request-a7bce2e9.js";import{u as V,a as O}from"./app-fb271a11.js";import{T as z,a as A,b as n,B as E}from"./TableDetail-31226791.js";import{P as I}from"./PopoverInput-8f306410.js";import{v as d}from"./Village-746193ad.js";import"./index.esm-2b0f1775.js";import"./BorderedRoundedButton-600ca3a5.js";import"./Button-6a81ea58.js";import"./TextInput-21fcf679.js";import"./PrimaryButton-c4bee480.js";import"./NoData-9ab3477f.js";import"./Clinic-f89fd43c.js";function Z({onSelect:p,item:t,clinic:h,...u}){const{theme:f}=V(),{borderTheme:v}=O(f),[s,_]=i.useState({_resources:[],_paging:{}}),[w,c]=i.useState({id:0,name:"",concat_name:""}),[b,l]=i.useState(!1),[r,m]=i.useState({...C(),size:5}),P=e=>{l(e)},g=(e={})=>{D(B,R(),e).then(o=>{o.status==200&&_(o.data.data)}).catch(o=>{})},S=e=>{m({...r,keyword:e.target.value}),g({...r,keyword:e.target.value})},k=e=>{p(e),c({...e,concat_name:e.id+"~"+e.name}),l(!1)},T=e=>{m({...r,page:e}),g({...r,page:e})},x=()=>{p(d),c({...d,concat_name:""}),l(!1)};i.useEffect(()=>{t&&Object.entries(t).length>0&&c({...t,concat_name:t.id>0?t.id+"~"+t.name:""}),g(r)},[t,h]);const j=["No","Desa","Kecamatan","kabupaten","Provinsi","Aksi"];return a(I,{...u,onClear:x,value:w.concat_name,placeholder:"Cari desa, kecamatan, kabupaten, provinsi...",onChange:S,onPopoverState:P,isOpen:b,children:a(z,{text:"Desa",columns:j,className:`rounded-lg hadow-lg p-4 ${v} shadow`,showAddButton:!1,onPageChanged:T,page:s._paging.page,size:s._paging.limit,totalData:s._paging.total_data,showRefresh:!1,showSearch:!1,showResultPage:!1,children:s._resources.map((e,o)=>{const y=(s._paging.page-1)*s._paging.limit+o+1;return N(A,{children:[a(n,{children:y}),a(n,{children:e.name}),a(n,{children:e.district.name}),a(n,{children:e.district.regency.name}),a(n,{children:e.district.regency.province.name}),a(n,{className:"items-center",children:a(E,{onClick:()=>k(e),className:"bg-green-500 text-white hover:bg-green-400 hover:text-gray-200",children:" Pilih"})})]},o)})})})}export{Z as default};
