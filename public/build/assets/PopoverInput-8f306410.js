import{r as t,j as x,a as o}from"./app-d2a3d537.js";import{u as V,a as z}from"./app-fb271a11.js";import{f as B}from"./index.esm-2b0f1775.js";const D=({placeholder:g,children:w,onChange:C,value:s,isOpen:c,onPopoverState:i,className:O,onClear:I,position:a="bottom",disposable:b=!1,...n})=>{const{theme:E}=V(),{layoutTheme:N,inputTheme:k,disabled:T}=z(E),[m,r]=t.useState(!1),[$,P]=t.useState(!0),[d,f]=t.useState(""),u=t.useRef(),l=t.useRef();let p=k;n.readOnly&&(p=T);const R=()=>{r(!0),i(!0)},h=e=>{u.current&&l.current&&!u.current.contains(e.target)&&!l.current.contains(e.target)&&(r(!1),i(!1))},j=e=>{f(e.target.value)},F=e=>{e.key=="Enter"&&C(e)};let S={zIndex:1e3},v="";a=="top"&&(v="bottom-10");const L=()=>{b&&P(!0)};t.useEffect(()=>(document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}),[]),t.useEffect(()=>{r(c),f(s)},[c,s]);const y=()=>o("div",{ref:l,className:`absolute w-max left-0 mt-1 rounded-lg ${N} ${v}`,style:S,children:w});return x("div",{className:"relative rounded-lg",children:[m&&!n.readOnly&&a=="top"&&y(),x("div",{className:"flex items-center",children:[$?o("input",{autoComplete:"off",ref:u,type:"text",readOnly:n.readOnly,onChange:j,onKeyDown:F,placeholder:g,value:d,onFocus:R,className:`mt-1 w-full p-2 rounded-md focus:outline-non mr-1 ${p} ${O}`}):o("div",{className:"w-full",onClick:L,children:d}),s&&!n.readOnly&&o("a",{href:"#",children:o(B,{onClick:I,className:"mt-1"})})]}),m&&!n.readOnly&&a=="bottom"&&y()]})},G=D;export{G as P};
