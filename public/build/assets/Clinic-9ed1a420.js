import{R as u,r as f,t as y,a as t,j as l}from"./app-d2a3d537.js";import{d as m}from"./Api-80eca046.js";import{p as C,a as d,b as D,d as T}from"./Request-a7bce2e9.js";import"./app-fb271a11.js";import{F as j}from"./Form-5433bd3a.js";import{I as g}from"./InputLabel-3da68630.js";import{P as h}from"./PrimaryButton-c4bee480.js";import{T as b}from"./TextInput-21fcf679.js";import{a as k,b as w}from"./Clinic-f89fd43c.js";import{T as n}from"./Toast-3fee0a06.js";function A({title:v,item:F,onSubmit:c,..._}){const[e,r]=u(k),[p,a]=f.useState(!1),[I,o]=u(y);f.useState(!1);const x=s=>{s.preventDefault(),a(!0),e.id==0?C(m,d(),e).then(i=>{i.status==201&&(r(w),o({color:n.success,message:"Data berhasil disimpan"}),c()),a(!1)}).catch(i=>{a(!1),o({color:n.danger,message:"Data gagal disimpan"})}):D(m+"/"+e.id,d(),e).then(i=>{i.status==200&&(r(i.data.data._resources),o({color:n.success,message:"Data berhasil disimpan"}),c()),a(!1)}).catch(i=>{o({color:n.danger,message:"Data gagal disimpan"}),a(!1)})},N=()=>{a(!1),T(m+"/"+e.id,d()).then(s=>{s.status==200&&(r({id:null,name:"",description:""}),c()),a(!1)})};return t("div",{className:"w-full",children:e?l(j,{className:"w-full text-gray-400 border-gray-200 border border-opacity-20 justify-center",children:[l("div",{className:"mb-5 text-2xl",children:[e.id!=0?"Edit":"Tambah"," ",v]}),l("div",{children:[t(g,{htmlFor:"name",value:"Nama"}),t(b,{id:"name",type:"text",name:"name",value:e.name,className:"mt-1 block w-full h-8",isFocused:!0,onChange:s=>r({...e,name:s.target.value})})]}),l("div",{className:"mt-4",children:[t(g,{htmlFor:"description",value:"Deskripsi"}),t(b,{id:"description",type:"text",name:"description",value:e.description,className:"mt-1 block w-full h-8",onChange:s=>r({...e,description:s.target.value})})]}),l("div",{className:"flex items-center justify-end mt-6",children:[t(h,{className:"ml-4 bg-green-500 hover:bg-green-400",disabled:p,onClick:x,children:"Simpan"}),t(h,{className:"ml-4 bg-red-500 hover:bg-red-400",disabled:p||e.id==null,onClick:N,children:"Hapus"})]})]}):null})}export{A as default};
