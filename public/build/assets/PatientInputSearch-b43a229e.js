import{R as i,r as g,j as k,F as _,a as m}from"./app-d2a3d537.js";import{F as h}from"./Api-80eca046.js";import{g as x,a as N}from"./Request-a7bce2e9.js";import{I as R}from"./InputError-1d44d59a.js";import{T as b}from"./TextInput-21fcf679.js";import{p as j}from"./Registration-c85af660.js";import{p as P,a as p}from"./Person-886fc51c.js";import"./app-fb271a11.js";import"./Doctor-8ebd7b82.js";import"./Clinic-f89fd43c.js";import"./VisitType-0f2b0c06.js";import"./Patient-e8af8ff9.js";import"./Gender-8c6cfe2c.js";import"./Village-746193ad.js";function q({...o}){const[s,a]=i(P),[c,l]=i(j),[u,r]=g.useState(null),d=e=>{if(e.key=="Enter"){if(!e.target.value){a(p),r(null);return}x(h,N(),{medical_record_number:e.target.value}).then(t=>{if(t.status==200){const n=t.data.data._resources[0];a(n),l({...c,patient:n.patient}),r(null)}t.status==204&&(a(p),r("No rekam medik tidak ditemukan"))}).catch(t=>{r("Terjadi kesalahan saat mencari")})}},f=e=>{const t={...s,patient:{medical_record_number:e.target.value}};a(t)};return k(_,{children:[m(b,{...o,placeholder:"Cari No. rekam medik eg: RM000001, Enter",className:`mt-1 block w-full ${o.className}`,value:s.patient.medical_record_number,onChange:f,onKeyDown:d}),m(R,{message:u,className:"mt-2"})]})}export{q as default};
