import{R as p,r as f,t as D,a as t,j as l}from"./app-d2a3d537.js";import{O as n}from"./Api-80eca046.js";import{p as T,a as d,b as j,d as k}from"./Request-a7bce2e9.js";import"./app-fb271a11.js";import{F as w}from"./Form-5433bd3a.js";import{I as h}from"./InputLabel-3da68630.js";import{P as g}from"./PrimaryButton-c4bee480.js";import{T as b}from"./TextInput-21fcf679.js";import{a as C,u as v}from"./Uom-6085d693.js";import{T as m}from"./Toast-3fee0a06.js";function z({title:x,item:F,onSubmit:c,..._}){const[e,o]=p(C),[u,a]=f.useState(!1),[I,i]=p(D);f.useState(!1);const N=s=>{s.preventDefault(),a(!0),e.id==0?T(n,d(),e).then(r=>{r.status==201&&(i({color:m.success,message:"Data berhasil disimpan"}),o(v),c()),a(!1)}).catch(r=>{a(!1),i({color:m.danger,message:"Data gagal disimpan"})}):j(n+"/"+e.id,d(),e).then(r=>{r.status==200&&(o(r.data.data._resources),i({color:m.success,message:"Data berhasil disimpan"}),c()),a(!1)}).catch(r=>{a(!1),i({color:m.danger,message:"Data gagal disimpan"})})},y=()=>{a(!1),k(n+"/"+e.id,d()).then(s=>{s.status==200&&(i({color:m.success,message:"Data berhasil dihapus"}),o(v),c()),a(!1)})};return t("div",{className:"w-full",children:e?l(w,{className:"w-full text-gray-400 border-gray-200 border border-opacity-20 justify-center",children:[l("div",{className:"mb-5 text-2xl",children:[e.id!=0?"Edit":"Tambah"," ",x]}),l("div",{children:[t(h,{htmlFor:"name",value:"Nama"}),t(b,{id:"name",type:"text",name:"name",value:e.name,className:"mt-1 block w-full h-8",isFocused:!0,onChange:s=>o({...e,name:s.target.value})})]}),l("div",{className:"mt-4",children:[t(h,{htmlFor:"description",value:"Deskripsi"}),t(b,{id:"description",type:"text",name:"description",value:e.description,className:"mt-1 block w-full h-8",onChange:s=>o({...e,description:s.target.value})})]}),l("div",{className:"flex items-center justify-end mt-6",children:[t(g,{className:"ml-4 bg-green-500 hover:bg-green-400",disabled:u,onClick:N,children:"Simpan"}),t(g,{className:"ml-4 bg-red-500 hover:bg-red-400",disabled:u||e.id==null,onClick:y,children:"Hapus"})]})]}):null})}export{z as default};
