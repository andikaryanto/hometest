import{R as g,r as p,c as A,q as O,a as e,j as n}from"./app-d2a3d537.js";import{A as T}from"./AdminLayout-90b2035a.js";import{a as E,g as P,c as D}from"./Request-a7bce2e9.js";import"./app-fb271a11.js";import{T as j,a as R,b as c}from"./TableDetail-31226791.js";import B from"./ItemAdd-2d10303c.js";import{i as F,a as L,b as q,c as M}from"./Item-5a97d1bd.js";import{S as $}from"./SlideSideBar-5ef5a5e3.js";import{h as z}from"./Api-80eca046.js";import{g as H,f as K}from"./Helper-e1a63998.js";import{P as h}from"./Pill-07fbc269.js";import{C as V}from"./CircleActionButton-397e1f15.js";import"./ThemeButton-138f6990.js";import"./Button-6a81ea58.js";import"./index.esm-2b0f1775.js";import"./Popover-43033a57.js";import"./ClearButton-f395bb26.js";import"./index.es-302dcb1a.js";import"./ApplicationLogo-7624da29.js";import"./BorderedRoundedButton-600ca3a5.js";import"./TextInput-21fcf679.js";import"./PrimaryButton-c4bee480.js";import"./NoData-9ab3477f.js";import"./InputLabel-3da68630.js";import"./Form-5433bd3a.js";import"./UomListPopoverInput-4daf57fd.js";import"./PopoverInput-8f306410.js";import"./Uom-6085d693.js";import"./Tabs-0749dd7e.js";import"./ItemMarginListPopoverSearch-ae49bc4d.js";import"./ItemMargin-b56d4323.js";import"./Toast-3fee0a06.js";function Ct(){const[G,u]=g(F),[i,_]=g(L),[b,d]=p.useState(!1);A(q);const x=O(),o=H(x,"item_type_id");let r=null;o==1&&(r="Obat"),o==2&&(r="Bahan Habis Pakai");const[a,f]=p.useState({page:1,keyword:"",order_by:"id",order_direction:"DESC"}),l=(t={})=>{t={...t,item_type_id:o};const s=E();P(z,s,t).then(m=>{m.status==200&&_(m.data.data)}).catch(m=>{})},k=t=>{f({...a,keyword:t.target.value}),l({...a,keyword:t.target.value})},N=t=>{u(t),d(!0)},S=t=>{f({...a,page:t}),l({...a,page:t})},w=()=>{l(a)},y=()=>{u(M),d(!0)},C=()=>[{caption:"Edit",href:D.web_url+"/item/add"}],I=(t,s)=>{t.href!=null&&t.caption=="Edit"&&(window.location=t.href+`?id=${s.id}&item_type_id=${o}`)};p.useEffect(()=>{l(a)},[]);const v=["No","Kode","Item","Aksi"];return e(T,{textName:r,breadCrumbItems:[{label:"Apotek"},{label:o==1?"Obat":null}],children:n("div",{className:"flex",children:[e($,{title:r,className:"w-1/3",isOpen:b,onClose:()=>d(!1),position:"left",isScrollabe:!1,children:e("div",{className:"w-full",children:e(B,{title:r,onSubmit:w})})}),e(j,{text:"Daftar ".title,columns:v,onSearch:k,onPageChanged:S,onAddClick:y,page:i._paging.page,size:i._paging.limit,totalData:i._paging.total_data,children:i._resources?i._resources.map((t,s)=>{const m=(i._paging.page-1)*i._paging.limit+s+1;return n(R,{addSpace:!0,onDoubleClick:()=>N(t),children:[e(c,{children:m}),e(c,{children:t.code}),n(c,{children:[n("div",{className:"flex items-center",children:[e("div",{className:"mr-2",children:t.name}),n(h,{className:"text-xs bg-blue-600 text-white mr-2",children:[t.item_stock?t.item_stock.quantity:0," ",t.uom.name]})]}),e("div",{className:"flex items-center",children:e(h,{className:"text-xs bg-green-600 text-white mr-2",children:K(t.sell_price)})})]}),e(c,{className:"items-center",children:e(V,{items:C(),selectedItem:t,onOptionClick:I,className:"text-xs p-1 rounded-lg"})})]})}):null})]})})}export{Ct as default};
