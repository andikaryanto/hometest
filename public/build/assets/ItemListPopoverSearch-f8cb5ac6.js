import{r,a as t,j as m}from"./app-d2a3d537.js";import{h as R}from"./Api-80eca046.js";import{a as A,g as O}from"./Request-a7bce2e9.js";import{f as z}from"./Helper-e1a63998.js";import{u as D,a as E}from"./app-fb271a11.js";import{T as q,a as L,b as n,B as U}from"./TableDetail-31226791.js";import{P as $}from"./PopoverInput-8f306410.js";import{P as u}from"./Pill-07fbc269.js";import{c as d}from"./Item-5a97d1bd.js";import"./index.esm-2b0f1775.js";import"./BorderedRoundedButton-600ca3a5.js";import"./Button-6a81ea58.js";import"./TextInput-21fcf679.js";import"./PrimaryButton-c4bee480.js";import"./NoData-9ab3477f.js";import"./Uom-6085d693.js";import"./ItemMargin-b56d4323.js";function se({onSelect:h,currentItem:a,itemTypeId:p,disposable:_=!1,inStockOnly:w=!1,...b}){const{theme:x}=D(),{borderTheme:v}=E(x),[o,S]=r.useState({_resources:[],_paging:{}}),[k,c]=r.useState(d),N=e=>{g(e)},[P,g]=r.useState(!1),[l,T]=r.useState({page:1,size:5,keyword:"",order_by:"id",order_direction:"ASC"}),f=(e={})=>{p&&(e={...e,item_type_id:p}),w&&(e={...e,in_stock:!0});const i=A();O(R,i,e).then(s=>{s.status==200&&S(s.data.data)}).catch(s=>{})},y=e=>{T({...l,keyword:e.target.value}),f({...l,keyword:e.target.value})},C=e=>{h(e),c({...e,concat_name:e.id+"~"+e.name}),g(!1)},j=()=>{h(d),c({...d,concat_name:""})};r.useEffect(()=>{f(l),a&&Object.entries(a).length>0&&c({...a,concat_name:a.id>0?a.id+"~"+a.name:""})},[a]);const B=["No","Nama","Stok","Aksi"];return t($,{...b,disposable:_,onClear:j,value:k.concat_name,placeholder:"Cari barang...",onChange:y,onPopoverState:N,isOpen:P,children:t(q,{text:"Barang",columns:B,className:`rounded-lg hadow-lg p-4 ${v} shadow`,showAddButton:!1,page:o._paging.page,size:o._paging.limit,totalData:o._paging.total_data,showRefresh:!1,showSearch:!1,showResultPage:!1,children:o._resources.map((e,i)=>{const s=(o._paging.page-1)*o._paging.limit+i+1;return m(L,{children:[t(n,{children:s}),m(n,{children:[m("div",{className:"flex items-center",children:[t("div",{className:"mr-2",children:e.name}),t(u,{className:"text-xs bg-blue-600 text-white mr-2",children:e.uom.name})]}),t("div",{className:"flex items-center",children:t(u,{className:"text-xs bg-green-600 text-white mr-2",children:z(e.sell_price)})})]}),t(n,{children:e.item_stock?e.item_stock.quantity:0}),t(n,{className:"items-center",children:t(U,{onClick:()=>C(e),className:"bg-green-500 text-white hover:bg-green-400 hover:text-gray-200",children:" Pilih"})})]},i)})})})}export{se as default};
