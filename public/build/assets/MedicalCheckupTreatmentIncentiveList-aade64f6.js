import{R as x,r as h,c as S,p as D,q as y,a as t,j as m}from"./app-d2a3d537.js";import{A}from"./AdminLayout-90b2035a.js";import{a as R,g as j}from"./Request-a7bce2e9.js";import"./app-fb271a11.js";import{T as L,a as E,b as l}from"./TableDetail-31226791.js";import{D as O}from"./Api-80eca046.js";import{P as u}from"./Pill-07fbc269.js";import{g as V,f as b}from"./Helper-e1a63998.js";import{a as q,b as z,m as B,c as G}from"./MedicalCheckupTreatmentIncentive-192b10da.js";import H from"./MedicalCheckupTreatmentIncentiveDoctorFilter-d5379f86.js";import J from"./MedicalCheckupTreatmentIncentiveNurseFilter-0f076cc6.js";import{n as K}from"./index.esm-2b0f1775.js";import"./ThemeButton-138f6990.js";import"./Button-6a81ea58.js";import"./Popover-43033a57.js";import"./ClearButton-f395bb26.js";import"./index.es-302dcb1a.js";import"./ApplicationLogo-7624da29.js";import"./BorderedRoundedButton-600ca3a5.js";import"./TextInput-21fcf679.js";import"./PrimaryButton-c4bee480.js";import"./NoData-9ab3477f.js";import"./Doctor-8ebd7b82.js";import"./Clinic-f89fd43c.js";import"./HealthWorker-225f8e62.js";import"./InputLabel-3da68630.js";import"./Panel-b158e787.js";import"./PopoverInput-8f306410.js";import"./DoctorListPopoverSearch-207bf51f.js";import"./HealthWorkerListPopoverInput-ca7dab84.js";function Ce(){let o="";const[Q,N]=x(q),[i,_]=x(z),[U,T]=h.useState(!1),a=S(B),[r,f]=h.useState(D()),w=y(),c=V(w,"worker");c=="doctor"&&(o="Dokter"),c=="nurse"&&(o="Perawat");const s=(e={})=>{e={...e,worker:c},a.doctor.id>0&&(e={...e,doctor_id:a.doctor.id}),a.incentive_date!=null&&(e={...e,incentive_date:a.incentive_date}),a.health_worker.id>0&&(e={...e,health_worker_id:a.health_worker.id});const p=R();j(O,p,e).then(n=>{n.status==200&&_(n.data.data),n.status==204&&_(G)}).catch(n=>{})},C=e=>{f({...r,keyword:e.target.value}),s({...r,keyword:e.target.value})},I=e=>{N(e),T(!0)},F=e=>{f({...r,page:e}),s({...r,page:e})},k=()=>{s(r)};h.useEffect(()=>{s(r)},[]);let d=null;c=="doctor"?d=t(H,{isVisible:!0,className:"w-64",onFilterApply:k}):d=t(J,{isVisible:!0,className:"w-64",onFilterApply:k});const P=["No","Nama","Pemeriksaan","Tindakan Insentif"];return t(A,{textName:o,breadCrumbItems:[{label:"Insentif"},{label:"Insentif "+o}],children:m("div",{className:"flex",children:[d,t(L,{text:"",columns:P,onSearch:C,onPageChanged:F,showAddButton:!1,page:i._paging.page,size:i._paging.limit,totalData:i._paging.total_data,children:i._resources?i._resources.map((e,p)=>{var g,v;const n=(i._paging.page-1)*i._paging.limit+p+1,M=c=="doctor"?(g=e.incentive.doctor)==null?void 0:g.name:(v=e.incentive.health_worker)==null?void 0:v.name;return m(E,{addSpace:!0,onDoubleClick:()=>I(e),children:[t(l,{children:n}),t(l,{children:t("div",{className:"flex items-center",children:t("div",{className:"mr-2",children:M})})}),t(l,{children:m("div",{className:"items-center",children:[t("div",{className:"mr-2",children:e.medical_checkup_treatment.medical_checkup.checkup_number}),t("div",{className:"mr-2 flex",children:t(u,{className:"text-xs bg-green-600 text-white",children:e.medical_checkup_treatment.medical_checkup.created_at})})]})}),m(l,{children:[t("div",{className:"mb-1",children:e.medical_checkup_treatment.treatment.name}),m("div",{className:"flex items-center",children:[t(u,{className:"text-xs bg-blue-600 text-white mr-2",children:b(e.medical_checkup_treatment.amount,!1)}),t(K,{className:"text-sm mr-2"}),t(u,{className:"text-xs bg-blue-600 text-white mr-2",children:b(e.incentive_amount,!1)})]})]})]})}):null})]})})}export{Ce as default};
