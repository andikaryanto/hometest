import{r as l,p as N,a as r,j}from"./app-d2a3d537.js";import{p as B,q as C}from"./Api-80eca046.js";import{g as R,a as y}from"./Request-a7bce2e9.js";import{u as O,a as A}from"./app-fb271a11.js";import{T as E,a as q,b as g,B as z}from"./TableDetail-31226791.js";import{P as I}from"./PopoverInput-8f306410.js";import{d as i}from"./Doctor-8ebd7b82.js";import"./index.esm-2b0f1775.js";import"./BorderedRoundedButton-600ca3a5.js";import"./Button-6a81ea58.js";import"./TextInput-21fcf679.js";import"./PrimaryButton-c4bee480.js";import"./NoData-9ab3477f.js";import"./Clinic-f89fd43c.js";function Z({onSelect:m,item:a,clinic:t,...u}){const{theme:f}=O(),{borderTheme:_}=A(f),[s,w]=l.useState({_resources:[],_paging:{}}),[b,n]=l.useState({id:0,name:"",concat_name:""}),[v,d]=l.useState(!1),[p,P]=l.useState(N()),S=e=>{d(e)},h=(e={})=>{let c=C;t&&t.id>0&&(c=B.replace("{clinic}",t.id)),R(c,y(),e).then(o=>{o.status==200&&w(o.data.data),o.status==400}).catch(o=>{console.log(o)})},T=e=>{P({...p,keyword:e.target.value}),h({...p,keyword:e.target.value})},k=e=>{m(e),n({...e,concat_name:e.id+"~"+e.name}),d(!1)},x=()=>{m(i),n({...i,concat_name:""}),d(!1)};l.useEffect(()=>{t?a&&Object.entries(a).length>0&&(a.clinic.id!=t.id?n({...i,concat_name:a.id>0?i.id+"~"+i.name:null}):n({...a,concat_name:a.id>0?a.id+"~"+a.name:null})):n({...a,concat_name:a.id>0?a.id+"~"+a.name:null}),h(p)},[a,t]);const D=["No","Nama","Aksi"];return r(I,{...u,onClear:x,value:b.concat_name,placeholder:"Cari dokter...",onChange:T,onPopoverState:S,isOpen:v,children:r(E,{text:"Dokter",columns:D,className:`rounded-lg hadow-lg p-4 ${_} shadow`,showAddButton:!1,page:s._paging.page,size:s._paging.limit,totalData:s._paging.total_data,showRefresh:!1,showSearch:!1,showResultPage:!1,children:s._resources.map((e,c)=>{const o=(s._paging.page-1)*s._paging.limit+c+1;return j(q,{children:[r(g,{children:o}),r(g,{children:e.name}),r(g,{className:"items-center",children:r(z,{onClick:()=>k(e),className:"bg-green-500 text-white hover:bg-green-400 hover:text-gray-200",children:" Pilih"})})]},c)})})})}export{Z as default};
