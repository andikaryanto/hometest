import{e as i,R as r,r as P,t as G,j as s,a as t}from"./app-d2a3d537.js";import{I as v}from"./InputLabel-3da68630.js";import{i as R}from"./ItemMargin-b56d4323.js";import L from"./ItemMarginListPopoverSearch-ae49bc4d.js";import{T as p}from"./Toggle-9f9d4191.js";import{u as B,a as E}from"./app-fb271a11.js";import{T as N}from"./TextInput-21fcf679.js";import{P as $}from"./PrimaryButton-c4bee480.js";import{p as z,a as H}from"./Request-a7bce2e9.js";import{M as q}from"./Api-80eca046.js";import{T as y}from"./Toast-3fee0a06.js";import{R as T}from"./ResponseMessages-5367e22c.js";const m={id:0,name:"",string_value:"",integer_value:0,boolean_value:!1,date_time_value:null,decimal_value:0,is_active:!1},D=m,J=m,K=m,Q={...m,item_margin:R},U=m,V=m,pe=i({key:"settingListState",default:[]});i({key:"settingState",default:m});const W=i({key:"settingItemPriceAsMasterItemState",default:D}),X=i({key:"settingItemMarginAsMasterItemState",default:J}),Y=i({key:"settingItemCOGSState",default:K}),Z=i({key:"settingMarginTypeState",default:Q}),ee=i({key:"settingItemPriceMarginFlatState",default:U}),te=i({key:"settingItemPriceMarginPercentState",default:V});function ae({settings:n=[],...ne}){const{theme:k}=B(),{bigFontColorTheme:j}=E(k),[l,g]=r(W),[M,O]=r(X),[o,d]=r(Y),[u,S]=r(Z),[f,_]=r(ee),[c,b]=r(te),[w,I]=P.useState(!1),[se,h]=r(G),x=e=>{g({...l,boolean_value:e}),d({...o,boolean_value:!e})},A=e=>{d({...o,boolean_value:e}),g({...l,boolean_value:!e})},F=e=>{S({...u,item_margin:e,integer_value:e.id,string_value:e.name})},C=()=>{I(!0),z(q,H,{settings:[l,M,o,u,f,c,c]}).then(e=>{e.status==204&&(I(!1),h({color:y.success,message:T.data_saved}))}).catch(e=>{I(!1),h({color:y.danger,message:T.data_failed_to_save})})};return P.useEffect(()=>{if(n.length>0){g(n.find(a=>a.id==1)),O(n.find(a=>a.id==2)),d(n.find(a=>a.id==3));const e=n.find(a=>a.id==6);S({...e,item_margin:{id:e.integer_value,name:e.string_value}}),_(n.find(a=>a.id==4)),b(n.find(a=>a.id==5))}},[n]),s("div",{className:"xl:w-1/4 lg:1/2",children:[s("div",{children:[t("div",{className:"flex my-6",children:t("div",{className:`text-lg ${j} font-semibold`,children:"Pengaturan Barang"})}),s("div",{className:"flex mb-4",children:[t("span",{className:"mr-10 w-72",children:"Gunakan harga yang ada pada master per barang"}),t(p,{checked:l.boolean_value,onToggle:x})]}),s("div",{className:"flex mb-4",children:[t("span",{className:"mr-10 w-72",children:"Gunakan margin yang ada pada master per barang"}),t(p,{checked:M.boolean_value})]}),s("div",{className:"flex mb-4",children:[t("span",{className:"mr-10 w-72",children:"Gunakan Harga Pokok Penjualan"}),t(p,{checked:o.boolean_value,onToggle:A})]}),s("div",{className:"mb-4",children:[t(v,{htmlFor:"clinic",value:"Margin Penjualan"}),t(L,{className:"h-8 w-96",item:u.item_margin,onSelect:F})]}),s("div",{className:"mb-4",children:[t(v,{htmlFor:"name",value:"Margin Flat"}),t(N,{id:"name",type:"number",name:"name",value:f.integer_value,className:"mt-1 block w-full h-8",onChange:e=>_({...f,integer_value:e.target.value})})]}),s("div",{className:"mb-4",children:[t(v,{htmlFor:"name",value:"Margin Persen"}),t(N,{id:"name",type:"number",name:"name",value:c.integer_value,className:"mt-1 block w-full h-8",onChange:e=>b({...c,integer_value:e.target.value})})]})]}),t("div",{className:"flex items-center justify-end mt-4",children:t($,{className:"ml-4 bg-green-500 hover:bg-green-400",disabled:w,onClick:C,children:"Simpan"})})]})}const Me=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));export{ae as I,Me as a,pe as s};
