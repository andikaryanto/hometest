import{R as h,r as f,t as _,a as t,j as l}from"./app-d2a3d537.js";import{p as k,a as p,b as y,d as w}from"./Request-a7bce2e9.js";import"./app-fb271a11.js";import{I as m}from"./InputLabel-3da68630.js";import{P as g}from"./PrimaryButton-c4bee480.js";import{T as n}from"./TextInput-21fcf679.js";import{N as D}from"./Api-80eca046.js";import"./PopoverInput-8f306410.js";import"./Clinic-f89fd43c.js";import{a as F,t as v}from"./Treatment-efb1ba63.js";import{F as T}from"./Form-5433bd3a.js";import{T as o}from"./Toast-3fee0a06.js";import"./index.esm-2b0f1775.js";function q({title:N,onSubmit:d,...C}){const[e,s]=h(F),[u,r]=f.useState(!1),[j,c]=h(_),b=a=>{a.preventDefault(),r(!0),e.id==null?k("/treatment",p(),e).then(i=>{i.status==201&&(s({...v,clinic:i.data.data._resources.clinic}),c({color:o.success,message:"Data tersimpan"}),d()),r(!1)}).catch(i=>{c({color:o.danger,message:"Data gagal disimpan"}),r(!1)}):y("/treatment/"+e.id,p(),e).then(i=>{i.status==200&&(c({color:o.success,message:"Data tersimpan"}),s(i.data.data._resources),d()),r(!1)}).catch(i=>{c({color:o.danger,message:"Data gagal disimpan"}),r(!1)})},x=()=>{r(!1),w(D+"/"+e.id,p()).then(a=>{a.status==200&&(c({color:o.success,message:"Data terhapus"}),s(v),d()),r(!1)}).catch(a=>{c({color:o.success,message:"Data gagal dihapus"}),r(!1)})};return f.useEffect(()=>{},[]),t("div",{className:"w-full ",children:e?l(T,{className:"w-full text-gray-400 border-gray-200 border border-opacity-20 justify-center",children:[l("div",{className:"mb-5 text-2xl",children:[e.id!=null?"Edit":"Tambah"," ",N]}),l("div",{className:"mt-4",children:[t(m,{htmlFor:"code",value:"Nama"}),t(n,{id:"code",type:"text",name:"code",value:e.name,className:"mt-1 block w-full h-8",isFocused:!0,onChange:a=>s({...e,name:a.target.value})})]}),l("div",{className:"mt-4",children:[t(m,{htmlFor:"name",value:"JM Perawat"}),t(n,{id:"name",type:"text",name:"name",value:e.health_worker_price,className:"mt-1 block w-full h-8",isFocused:!0,onChange:a=>s({...e,health_worker_price:a.target.value})})]}),l("div",{className:"mt-4",children:[t(m,{htmlFor:"description",value:"JM Dokter"}),t(n,{id:"description",type:"text",name:"description",value:e.doctor_price,className:"mt-1 block w-full h-8",onChange:a=>s({...e,doctor_price:a.target.value})})]}),l("div",{className:"mt-4",children:[t(m,{htmlFor:"description",value:"JM Apoteker"}),t(n,{id:"description",type:"text",name:"description",value:e.pharmacist_price,className:"mt-1 block w-full h-8",onChange:a=>s({...e,pharmacist_price:a.target.value})})]}),l("div",{className:"mt-4",children:[t(m,{htmlFor:"description",value:"Klinic"}),t(n,{id:"description",type:"text",name:"description",value:e.clinic_price,className:"mt-1 block w-full h-8",onChange:a=>s({...e,clinic_price:a.target.value})})]}),l("div",{className:"flex items-center justify-end mt-4",children:[t(g,{className:"ml-4 bg-green-500 hover:bg-green-400",disabled:u,onClick:b,children:"Simpan"}),t(g,{className:"ml-4 bg-red-500 hover:bg-red-400",disabled:u||e.id==null,onClick:x,children:"Hapus"})]})]}):null})}export{q as default};
