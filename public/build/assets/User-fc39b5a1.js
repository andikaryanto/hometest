import{e as h,f as x,R as w,r as p,a,j as o}from"./app-d2a3d537.js";import{p as _,a as n,b as S,d as j}from"./Request-a7bce2e9.js";import"./app-fb271a11.js";import{I as i}from"./InputLabel-3da68630.js";import{P as f}from"./PrimaryButton-c4bee480.js";import{T as m}from"./TextInput-21fcf679.js";import{P as d}from"./Api-80eca046.js";import"./PopoverInput-8f306410.js";import"./Clinic-f89fd43c.js";import{F as k}from"./Form-5433bd3a.js";import F from"./ScopeListPopoverMultiSearch-6aff7682.js";const g={id:0,username:"",email:"",password:"",scopes:[]},$=h({key:"userListState",default:{_paging:x}}),P=h({key:"userState",default:g});function C({title:v,onSubmit:c,...T}){const[e,t]=w(P),[u,r]=p.useState(!1),b=s=>{s.preventDefault(),r(!0),e.id==0?_(d,n(),e).then(l=>{l.status==201&&(t(l.data.data._resources),c()),r(!1)}).catch(l=>{r(!1)}):S(d+"/"+e.id,n(),e).then(l=>{l.status==200&&(t(l.data.data._resources),c()),r(!1)}).catch(l=>{r(!1)})},N=()=>{r(!1),j(d+"/"+e.id,n()).then(s=>{s.status==200&&(t(g),c()),r(!1)})},y=s=>{t({...e,scopes:s})};return p.useEffect(()=>{},[]),a("div",{className:"w-full ",children:e?o(k,{className:"w-full text-gray-400 border-gray-200 border border-opacity-20 justify-center",children:[o("div",{className:"mb-5 text-2xl",children:[e.id>0?"Edit":"Tambah"," ",v]}),o("div",{children:[a(i,{htmlFor:"clinic",value:"Scope"}),a(F,{className:"h-8 w-96",onSelect:y,items:e.scopes})]}),o("div",{className:"mt-4",children:[a(i,{htmlFor:"code",value:"Nama"}),a(m,{id:"code",type:"text",name:"code",value:e.username,className:"mt-1 block w-full h-8",isFocused:!0,onChange:s=>t({...e,username:s.target.value})})]}),o("div",{className:"mt-4",children:[a(i,{htmlFor:"name",value:"Email"}),a(m,{id:"name",type:"text",name:"name",value:e.email,className:"mt-1 block w-full h-8",isFocused:!0,onChange:s=>t({...e,email:s.target.value})})]}),o("div",{className:"mt-4",children:[a(i,{htmlFor:"description",value:"Password"}),a(m,{id:"description",type:"password",name:"description",value:e.password,className:"mt-1 block w-full h-8",onChange:s=>t({...e,password:s.target.value})})]}),o("div",{className:"flex items-center justify-end mt-4",children:[a(f,{className:"ml-4 bg-green-500 hover:bg-green-400",disabled:u,onClick:b,children:"Simpan"}),a(f,{className:"ml-4 bg-red-500 hover:bg-red-400",disabled:u||e.id==null,onClick:N,children:"Hapus"})]})]}):null})}const q=Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"}));export{C as U,P as a,g as b,q as c,$ as u};
