import{R as l,t as D,c as j,r as o,q as I,a as t,j as i}from"./app-d2a3d537.js";import{A as L}from"./AdminLayout-90b2035a.js";import{g as O,a as T}from"./Request-a7bce2e9.js";import{T as A,a as B,b as p}from"./TableDetail-31226791.js";import{f as R,p as E,e as V,g as K,h as q}from"./MedicalCheckup-84b76896.js";import{K as z}from"./Api-80eca046.js";import{P as n}from"./Pill-07fbc269.js";import{p as M,a as G}from"./Person-886fc51c.js";import"./app-fb271a11.js";import{g as H,f as J}from"./Helper-e1a63998.js";import Q from"./PaymentFilter-bae33fe4.js";import{S as U}from"./SlideSideBar-5ef5a5e3.js";import W from"./PaymentInformation-1692f40d.js";import"./ThemeButton-138f6990.js";import"./Button-6a81ea58.js";import"./index.esm-2b0f1775.js";import"./Popover-43033a57.js";import"./ClearButton-f395bb26.js";import"./index.es-302dcb1a.js";import"./ApplicationLogo-7624da29.js";import"./BorderedRoundedButton-600ca3a5.js";import"./TextInput-21fcf679.js";import"./PrimaryButton-c4bee480.js";import"./NoData-9ab3477f.js";import"./CheckupRecord-2fa0f175.js";import"./Registration-c85af660.js";import"./Doctor-8ebd7b82.js";import"./Clinic-f89fd43c.js";import"./VisitType-0f2b0c06.js";import"./Patient-e8af8ff9.js";import"./HealthWorker-225f8e62.js";import"./Certificate-b20e9c29.js";import"./Gender-8c6cfe2c.js";import"./Village-746193ad.js";import"./InputLabel-3da68630.js";import"./Panel-b158e787.js";import"./ClinicListSelectInput-e4f3cbe0.js";import"./PopoverInput-8f306410.js";import"./RegistrationType-9a523c17.js";import"./PatientInformation-caca90f6.js";import"./MedicalCheckupHIstoryList-4ad5539b.js";import"./MedicalCheckupHIstoryDetail-844fa362.js";import"./ButtonLink-1059a812.js";function Me(){const[a,u]=l(R),[X,g]=l(E),[Y,_]=l(M);l(D);const r=j(V),[b,d]=o.useState(!1),[y,h]=o.useState(!1),[x,k]=o.useState(!0),N=I();H(N,"registration_status_id");const[s,f]=o.useState({page:1,keyword:"",order_by:"id",order_direction:"DESC"}),m=(e={})=>{h(!0),r.payment_date!=""&&(e={...e,payment_date:r.payment_date}),r.clinic.id>0&&(e={...e,clinic_id:r.clinic.id}),r.medical_record_number!=""&&(e={...e,medical_record_number:r.medical_record_number}),O(z,T(),e).then(c=>{c.status==200&&u(c.data.data),c.status==204&&u(K),h(!1)}).catch(c=>{h(!1)})},P=e=>{f({...s,keyword:e.target.value}),m({...s,keyword:e.target.value})},v=e=>{g(e),_(e.medical_checkup.checkup_record.registration.patient.person),d(!0)},w=e=>{f({...s,page:e}),m({...s,page:e})},S=()=>{m(s)},F=()=>{_(G),g(q),d(!0)};return o.useEffect(()=>{m(s)},[]),t(L,{textName:"Kasir",breadCrumbItems:[{label:"Billing"},{label:"Rekap"}],children:i("div",{className:"flex",children:[t(U,{className:"w-1/2",isOpen:b,onClose:()=>d(!1),position:"left",isScrollabe:!0,title:"Detail Pembayaran",children:t("div",{className:"flex",children:t(W,{title:"Informasi Pembayaran"})})}),t(Q,{isVisible:x,className:"w-64",onFilterApply:S}),t(A,{processing:y,text:"",columns:["No","Pasien","Poli","Bayar"],onSearch:P,onPageChanged:w,showFilterButton:!1,showAddButton:!1,onAddClick:F,onFilterClick:()=>k(!x),page:a._paging.page,size:a._paging.limit,totalData:a._paging.total_data,children:a._resources&&a._resources.map((e,c)=>{const C=(a._paging.page-1)*a._paging.limit+c+1;return i(B,{addSpace:!0,onDoubleClick:()=>v(e),children:[t(p,{children:C}),i(p,{children:[i("div",{className:"flex items-center",children:[t("div",{className:"mr-2",children:e.medical_checkup.checkup_record.registration.patient.person.name}),t(n,{className:"text-xs bg-green-600 text-white mr-2",children:e.medical_checkup.checkup_record.registration.patient.medical_record_number})]}),i("div",{className:"text-sm",children:[e.medical_checkup.checkup_record.registration.patient.person.gender.name," â€¢ ",e.medical_checkup.checkup_record.registration.patient.person.age," Tahun"]}),t("div",{className:"flex text-xs",children:t(n,{className:"text-xs bg-green-600 text-white mr-2",children:e.medical_checkup.checkup_record.registration.registration_status.name})})]}),i(p,{children:[t("div",{className:"flex items-center",children:t("div",{className:"mr-2",children:e.medical_checkup.checkup_record.registration.clinic.name})}),t("div",{className:"flex text-xs mb-2",children:t(n,{className:"text-xs bg-blue-500 text-white mr-2",children:e.medical_checkup.checkup_record.registration.doctor.name})}),i("div",{className:"flex text-xs mb-2",children:[t(n,{className:"text-xs bg-gray-500 text-white mr-2",children:e.medical_checkup.checkup_record.registration.registration_type.name}),t(n,{className:"text-xs bg-green-600 text-white",children:e.medical_checkup.checkup_record.registration.visit_type.name})]})]}),i(p,{children:[t("div",{className:"flex items-center",children:t("div",{className:"mr-2",children:e.payment_number})}),t("div",{className:"flex text-xs mb-2",children:t(n,{className:"text-xs bg-green-600 text-white mr-2",children:J(e.amount)})})]})]})})})]})})}export{Me as default};
