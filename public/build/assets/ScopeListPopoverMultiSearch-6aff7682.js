import{e as u,f as j,r as a,p as B,a as o,j as C}from"./app-d2a3d537.js";import{L as E}from"./Api-80eca046.js";import{g as I,a as L}from"./Request-a7bce2e9.js";import{u as A,a as D}from"./app-fb271a11.js";import{T as M,a as O,b as n,B as z}from"./TableDetail-31226791.js";import"./PopoverInput-8f306410.js";import{P as U}from"./PopoverMultiInput-58ebecca.js";import"./index.esm-2b0f1775.js";import"./BorderedRoundedButton-600ca3a5.js";import"./Button-6a81ea58.js";import"./TextInput-21fcf679.js";import"./PrimaryButton-c4bee480.js";import"./NoData-9ab3477f.js";import"./Pill-07fbc269.js";const m={id:0,name:""};u({key:"scopeListState",default:{_paging:j}});u({key:"scopeState",default:m});function ae({onSelect:c,items:d=[],...f}){const{theme:S}=A(),{borderTheme:_}=D(S),[s,v]=a.useState({_resources:[],_paging:{}}),[r,i]=a.useState([]),[w,V]=a.useState({id:0,name:"",concat_name:""}),[P,g]=a.useState(!1),[p,b]=a.useState(B()),k=e=>{g(e)},h=(e={})=>{I(E,L(),e).then(t=>{t.status==200&&v(t.data.data)}).catch(t=>{})},x=e=>{b({...p,keyword:e.target.value}),h({...p,keyword:e.target.value})},T=e=>{r.find(t=>t.id==e.id)==null&&(i(t=>[...t,e]),c([...r,e]))},R=()=>{c(m),setSelectedScope({...m,concat_name:""}),g(!1)},y=e=>{const t=r.filter(l=>l.id!==e.id);i(t),c(t)};a.useEffect(()=>{h(p)},[]),a.useEffect(()=>{i(d)},[d]);const N=["No","Nama","Aksi"];return o(U,{...f,onRemove:y,onClear:R,value:w.concat_name,items:r,keyValue:"name",placeholder:"Cari Scope...",onChange:x,onPopoverState:k,isOpen:P,children:o(M,{text:"Scope",columns:N,className:`rounded-lg hadow-lg p-4 ${_} shadow`,showAddButton:!1,page:s._paging.page,size:s._paging.limit,totalData:s._paging.total_data,showRefresh:!1,showSearch:!1,showResultPage:!1,children:s._resources.map((e,t)=>{const l=(s._paging.page-1)*s._paging.limit+t+1;return C(O,{children:[o(n,{children:l}),o(n,{children:e.name}),o(n,{children:e.name}),o(n,{className:"items-center",children:o(z,{onClick:()=>T(e),className:"bg-green-500 text-white hover:bg-green-400 hover:text-gray-200",children:" Pilih"})})]},t)})})})}export{ae as default};
