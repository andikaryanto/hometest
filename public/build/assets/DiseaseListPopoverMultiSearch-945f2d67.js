import{r as s,p as R,a as t,j as y}from"./app-d2a3d537.js";import{f as j}from"./Api-80eca046.js";import{g as B,a as C}from"./Request-a7bce2e9.js";import{u as E,a as I}from"./app-fb271a11.js";import{T as M,a as A,b as i,B as O}from"./TableDetail-31226791.js";import"./PopoverInput-8f306410.js";import{P as z}from"./PopoverMultiInput-58ebecca.js";import{c as h}from"./Disease-af679f06.js";import"./index.esm-2b0f1775.js";import"./BorderedRoundedButton-600ca3a5.js";import"./Button-6a81ea58.js";import"./TextInput-21fcf679.js";import"./PrimaryButton-c4bee480.js";import"./NoData-9ab3477f.js";import"./Pill-07fbc269.js";import"./Clinic-f89fd43c.js";function se({onSelect:n,items:c=[],...u}){const{theme:f}=E(),{borderTheme:_}=I(f),[o,v]=s.useState({_resources:[],_paging:{}}),[r,l]=s.useState([]),[w,L]=s.useState({id:0,name:"",concat_name:""}),[S,d]=s.useState(!1),[m,P]=s.useState(R()),b=e=>{d(e)},g=(e={})=>{B(j,C(),e).then(a=>{a.status==200&&v(a.data.data)}).catch(a=>{})},D=e=>{P({...m,keyword:e.target.value}),g({...m,keyword:e.target.value})},T=e=>{r.find(a=>a.id==e.id)==null&&(l(a=>[...a,e]),n([...r,e]))},k=()=>{n(h),setSelectedDisease({...h,concat_name:""}),d(!1)},x=e=>{const a=r.filter(p=>p.id!==e.id);l(a),n(a)};s.useEffect(()=>{g(m)},[]),s.useEffect(()=>{c.length>0&&l(c)},[c]);const N=["No","Nama","Aksi"];return t(z,{...u,onRemove:x,onClear:k,value:w.concat_name,items:r,keyValue:"code_name",placeholder:"Cari penyakit...",onChange:D,onPopoverState:b,isOpen:S,children:t(M,{text:"Tenaga Medis",columns:N,className:`rounded-lg hadow-lg p-4 ${_} shadow`,showAddButton:!1,page:o._paging.page,size:o._paging.limit,totalData:o._paging.total_data,showRefresh:!1,showSearch:!1,showResultPage:!1,children:o._resources.map((e,a)=>{const p=(o._paging.page-1)*o._paging.limit+a+1;return y(A,{children:[t(i,{children:p}),t(i,{children:e.name}),t(i,{children:e.name}),t(i,{className:"items-center",children:t(O,{onClick:()=>T(e),className:"bg-green-500 text-white hover:bg-green-400 hover:text-gray-200",children:" Pilih"})})]},a)})})})}export{se as default};
