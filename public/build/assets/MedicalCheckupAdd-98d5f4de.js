import{q as B,R as v,r as k,t as I,a as e,j as l}from"./app-d2a3d537.js";import{a as R,B as b}from"./Api-80eca046.js";import{g as j,a as g,p as K,b as H}from"./Request-a7bce2e9.js";import{g as x}from"./Helper-e1a63998.js";import{u as $,a as E}from"./app-fb271a11.js";import{I as m}from"./InputLabel-3da68630.js";import{T as n}from"./TextInput-21fcf679.js";import{A as U}from"./AdminLayout-90b2035a.js";import W from"./PatientInformation-caca90f6.js";import{c as G}from"./CheckupRecord-2fa0f175.js";import"./Toggle-9f9d4191.js";import{T as c}from"./TextArea-ea22aa05.js";import"./RadioButton-e333c6a6.js";import q from"./HealthWorkerListPopoverMultiSearch-2b5cc379.js";import{P as C}from"./PrimaryButton-c4bee480.js";import{T as p}from"./Toast-3fee0a06.js";import"./MedicalCheckup-84b76896.js";import V from"./CertificateListPopoverSearch-8920b917.js";import{T as z}from"./Tabs-0749dd7e.js";import J from"./DiseaseListPopoverMultiSearch-945f2d67.js";import Q from"./TreatmentListPopoverMultiSearch-5103475f.js";import{m as X}from"./MedicalCheckupFormGigi-385eedbe.js";import Y from"./MedicalCheckupAddGigi-2408dbfa.js";import{m as Z}from"./MedicalCheckupFormUmum-76e447aa.js";import ee from"./MedicalCheckupAddUmum-4d16f8eb.js";import ae from"./MedicalCheckupItemConsumableList-44586918.js";import le from"./MedicalCheckupItemMedicineList-1d3c039a.js";import te from"./MedicalCheckupCompound-ff8e6cc4.js";import re from"./DoctorListPopoverSearch-207bf51f.js";import{m as me}from"./MedicalCheckupFormMata-51d7ac05.js";import oe from"./MedicalCheckupAddMata-248b2faf.js";import"./ThemeButton-138f6990.js";import"./Button-6a81ea58.js";import"./index.esm-2b0f1775.js";import"./Popover-43033a57.js";import"./ClearButton-f395bb26.js";import"./index.es-302dcb1a.js";import"./ApplicationLogo-7624da29.js";import"./Pill-07fbc269.js";import"./SlideSideBar-5ef5a5e3.js";import"./MedicalCheckupHIstoryList-4ad5539b.js";import"./TableDetail-31226791.js";import"./BorderedRoundedButton-600ca3a5.js";import"./NoData-9ab3477f.js";import"./MedicalCheckupHIstoryDetail-844fa362.js";import"./Registration-c85af660.js";import"./Doctor-8ebd7b82.js";import"./Clinic-f89fd43c.js";import"./VisitType-0f2b0c06.js";import"./Patient-e8af8ff9.js";import"./HealthWorker-225f8e62.js";import"./Certificate-b20e9c29.js";import"./PopoverInput-8f306410.js";import"./PopoverMultiInput-58ebecca.js";import"./Disease-af679f06.js";import"./Treatment-efb1ba63.js";import"./MedicalCheckupItem-38b98507.js";import"./Item-5a97d1bd.js";import"./Uom-6085d693.js";import"./ItemMargin-b56d4323.js";import"./MedicalCheckupItemConsumable-336dd93c.js";import"./Form-5433bd3a.js";import"./ResponseMessages-5367e22c.js";import"./ItemListPopoverSearch-f8cb5ac6.js";import"./MedicalCheckupItemMedicine-9cf3a768.js";function xa(){const{theme:y}=$(),{bigFontColorTheme:f,borderedBottomTheme:ie,borderTheme:se}=E(y),w=B(),_=x(w,"checkup_record_id"),s=x(w,"clinic");let u=null;s!=null&&s.toLowerCase()=="gigi"?u=X:s!=null&&s.toLowerCase()=="umum"?u=Z:s!=null&&s.toLowerCase()=="mata"&&(u=me);const[t,o]=v(G),[r,i]=v(u),[S,d]=k.useState(!1),[ne,h]=v(I),P=()=>{j(R+"/"+_,g(),{embed:["medical_checkup"]}).then(a=>{if(a.status==200)if(o(a.data.data._resources),a.data.data._resources.medical_checkup){let N=[];a.data.data._resources.medical_checkup.medical_checkup_treatments&&(N=a.data.data._resources.medical_checkup.medical_checkup_treatments.map((A,ce)=>A.treatment)),i({...a.data.data._resources.medical_checkup,checkup_record:a.data.data._resources,doctor:a.data.data._resources.medical_checkup.doctor?a.data.data._resources.medical_checkup.doctor:a.data.data._resources.registration.doctor,treatments:N})}else i({...r,checkup_record:a.data.data._resources})})},T=()=>{d(!0),r.id==0?K(b,g(),r).then(a=>{a.status==201&&(d(!1),i(a.data.data._resources),h({color:p.success,message:"Data Berhasil disimpan"}))}).catch(a=>{d(!1),h({color:p.danger,message:"Data gagal disimpan: "+a.response.data.message})}):H(b+"/"+r.id,g(),r).then(a=>{a.status==200&&(d(!1),i(a.data.data._resources),h({color:p.success,message:"Data Berhasil di ubah"}))}).catch(a=>{d(!1),h({color:p.danger,message:"Data gagal disimpan: "+a.response.data.message})})},F=a=>{o({...t,health_workers:a})},D=a=>{i({...r,certificate:a})},L=a=>{i({...r,diseases:a})},O=a=>{i({...r,treatments:a})},M=a=>{i({...r,doctor:a})};return k.useEffect(()=>{P()},[]),e(U,{textName:`${r.id>0?"Edit":"Tambah"} Pemeriksaan Pasien`,breadCrumbItems:[{label:"Pemeriksaan Pasien"},{label:"Pasien Daftar"}],children:s!=null&&t.id>0?l("div",{className:"pt-4 pl-4 pr-4 mb-10 w-full",children:[e("div",{className:"w-full",children:e(W,{patient:t.registration.patient,registration:t.registration})}),e("div",{className:"w-full mt-4",children:l(z,{headers:["Pemeriksaan Awal","Diagnosa Dokter","Bahan Habis Pakai","Obat","Obat Racik"],children:[l("div",{className:"w-1/2 mr-4",children:[l("div",{children:[e("div",{className:"flex",children:e("div",{className:`text-lg ${f} font-semibold`,children:"Kondisi Pasien"})}),l("div",{className:"flex mt-1 w-full",children:[l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Tekanan Darah (mmHg)"}),e(n,{id:"name",type:"text",name:"name",readOnly:!0,value:t.blood_pressure,className:"mt-1 block w-full h-8 focus:border-none",isFocused:!0,onChange:a=>o({...t,blood_pressure:a.target.value})})]}),l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Nadi (K/Min)"}),e(n,{id:"name",type:"text",name:"name",readOnly:!0,value:t.pulse,className:"mt-1 block w-full h-8 focus:border-none",onChange:a=>o({...t,pulse:a.target.value})})]}),l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Respirasi (K/Min)"}),e(n,{id:"name",type:"text",name:"name",readOnly:!0,value:t.respiration,className:"mt-1 block w-full h-8 focus:border-none",onChange:a=>o({...t,respiration:a.target.value})})]})]}),l("div",{className:"flex mt-4 w-full",children:[l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Suhu (Derajat)"}),e(n,{id:"name",type:"text",name:"name",readOnly:!0,value:t.temperature,className:"mt-1 block w-full h-8 focus:border-none",onChange:a=>o({...t,temperature:a.target.value})})]}),l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Berat Badan (Kg)"}),e(n,{id:"name",type:"text",name:"name",readOnly:!0,value:t.weight,className:"mt-1 block w-full h-8 focus:border-none",onChange:a=>o({...t,weight:a.target.value})})]}),l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Tinggi Badan (cm)"}),e(n,{id:"name",type:"text",name:"name",readOnly:!0,value:t.height,className:"mt-1 block w-full h-8 focus:border-none",onChange:a=>o({...t,height:a.target.value})})]})]}),e("div",{className:"flex mt-4 w-full",children:l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Spo2"}),e(n,{id:"name",type:"text",name:"name",readOnly:!0,value:t.oxygen_saturation,className:"mt-1 block w-full h-8 focus:border-none",onChange:a=>o({...t,oxygen_saturation:a.target.value})})]})})]}),l("div",{children:[e("div",{className:`text-lg mt-6 ${f} font-semibold`,children:"Pemeriksaan Awal"}),e("div",{className:"flex mt-2 w-full",children:l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Diagnosa Perawat"}),e(c,{id:"name",type:"text",name:"name",readOnly:!0,value:t.diagnose,className:"mt-1 block w-full focus:border-none",onChange:a=>o({...t,diagnose:a.target.value})})]})}),e("div",{className:"flex mt-4 w-full",children:l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Anamnesis"}),e(c,{id:"name",type:"text",name:"name",readOnly:!0,value:t.anamnesis,className:"mt-1 block w-full focus:border-none",onChange:a=>o({...t,anamnesis:a.target.value})})]})}),e("div",{className:"flex mt-4 w-full",children:l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Catatan / Lainnya"}),e(c,{id:"name",type:"text",name:"name",readOnly:!0,value:t.note,className:"mt-1 block w-full focus:border-none",onChange:a=>o({...t,note:a.target.value})})]})}),e("div",{className:"flex mt-4 w-full",children:l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Keluhan Utama"}),e(c,{id:"name",type:"text",name:"name",readOnly:!0,value:t.complaint,className:"mt-1 block w-full focus:border-none",onChange:a=>o({...t,complaint:a.target.value})})]})}),e("div",{className:"flex mt-4 w-full",children:l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Tindakan Perawat"}),e(c,{id:"name",type:"text",name:"name",readOnly:!0,value:t.action,className:"mt-1 block w-full focus:border-none",onChange:a=>o({...t,action:a.target.value})})]})}),l("div",{className:"w-full mr-2 mt-4",children:[e(m,{htmlFor:"clinic",value:"Perawat"}),e(q,{readOnly:!0,healthWorkerType:1,items:t.health_workers,className:"h-8 w-96 mr-2",onSelect:F})]})]})]}),l("div",{className:"w-full",children:[e("div",{className:`text-lg ${f} font-semibold`,children:"Diagnosa Dokter"}),l("div",{className:"flex",children:[e("div",{className:"w-1/2 mr-4",children:l("div",{children:[e("div",{className:"flex w-full mt-2",children:l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"No Pemeriksaan"}),e(n,{id:"name",type:"text",name:"name",value:r.checkup_number,className:"mt-1 h-8 block w-full focus:border-none",readOnly:!0,placeholder:"[Terisi Otomatis]"})]})}),e("div",{className:"flex mt-4 w-full",children:l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Dokter Pemeriksa"}),e(re,{clinic:t.registration.clinic,className:"mt-1 block w-full h-8 focus:border-none",onSelect:M,item:r.doctor})]})}),s.toLowerCase()=="gigi"?e(Y,{}):null,s.toLowerCase()=="umum"?e(ee,{}):null,s.toLowerCase()=="mata"?e(oe,{}):null,e("div",{className:"flex mt-4 w-full",children:l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Spirometri"}),e(c,{id:"name",type:"text",name:"name",value:r.spirometry,className:"mt-1 block w-full focus:border-none",onChange:a=>i({...r,spirometry:a.target.value})})]})}),e("div",{className:"flex mt-4 w-full",children:l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Tata Letak"}),e(c,{id:"name",type:"text",name:"name",value:r.governance,className:"mt-1 block w-full focus:border-none",onChange:a=>i({...r,governance:a.target.value})})]})}),e("div",{className:"flex mt-4 w-full",children:l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Rujukan"}),e(n,{id:"name",type:"text",name:"name",value:r.reference,className:"mt-1 block w-full h-8 focus:border-none",onChange:a=>i({...r,reference:a.target.value})})]})}),e("div",{className:"flex mt-4 w-full",children:l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"name",value:"Surat"}),e(V,{className:"mt-1 block w-full h-8 focus:border-none",onSelect:D,item:r.certificate})]})})]})}),l("div",{className:"w-1/2",children:[e("div",{className:"flex mt-2 w-full",children:l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"clinic",value:"Penyakit"}),e(J,{items:r.diseases,className:"h-8 w-96 mr-2",onSelect:L})]})}),e("div",{className:"flex mt-2 w-full",children:l("div",{className:"w-full mr-2",children:[e(m,{htmlFor:"clinic",value:"Tindakan"}),e(Q,{items:r.treatments,className:"h-8 w-96 mr-2",onSelect:O})]})})]})]}),l("div",{className:"flex items-center justify-end mt-4 w-full pr-2",children:[e(C,{className:"ml-4 bg-green-500 hover:bg-green-400",disabled:S,onClick:T,children:"Simpan"}),e(C,{className:"ml-4 bg-red-500 hover:bg-red-400",children:"Batal"})]})]}),e(ae,{medicalCheckup:r}),e(le,{medicalCheckup:r}),e(te,{medicalCheckup:r})]})})]}):null})}export{xa as default};
