import{r as a,p as R,a as o,j}from"./app-d2a3d537.js";import{o as y}from"./Api-80eca046.js";import{g as B,a as C}from"./Request-a7bce2e9.js";import{u as E,a as I}from"./app-fb271a11.js";import{T as M,a as A,b as n,B as D}from"./TableDetail-31226791.js";import"./PopoverInput-8f306410.js";import{P as O}from"./PopoverMultiInput-58ebecca.js";import{h as g}from"./HealthWorker-225f8e62.js";import"./index.esm-2b0f1775.js";import"./BorderedRoundedButton-600ca3a5.js";import"./Button-6a81ea58.js";import"./TextInput-21fcf679.js";import"./PrimaryButton-c4bee480.js";import"./NoData-9ab3477f.js";import"./Pill-07fbc269.js";function ae({onSelect:i,items:l=[],healthWorkerType:d,...u}){const{theme:f}=E(),{borderTheme:k}=I(f),[r,_]=a.useState({_resources:[],_paging:{}}),[s,c]=a.useState([]),[w,z]=a.useState({id:0,name:"",concat_name:""}),[v,S]=a.useState(!1),[h,P]=a.useState(R()),b=e=>{S(e)},p=(e={})=>{d&&(e={...e,health_worker_type_id:d}),B(y,C(),e).then(t=>{t.status==200&&_(t.data.data)}).catch(t=>{})},W=e=>{P({...h,keyword:e.target.value}),p({...h,keyword:e.target.value})},T=e=>{s.find(t=>t.id==e.id)==null&&(c(t=>[...t,e]),i([...s,e]))},x=()=>{i(g),setSelectedHealthWorker({...g,concat_name:""})},H=e=>{const t=s.filter(m=>m.id!==e.id);c(t),i(t)};a.useEffect(()=>{p(h)},[]),a.useEffect(()=>{l.length>0&&c(l)},[l]);const N=["No","Nama","Aksi"];return o(O,{...u,onRemove:H,onClear:x,value:w.concat_name,items:s,keyValue:"name",placeholder:"Cari tenaga medis...",onChange:W,onPopoverState:b,isOpen:v,children:o(M,{text:"Tenaga Medis",columns:N,className:`rounded-lg hadow-lg p-4 ${k} shadow`,showAddButton:!1,page:r._paging.page,size:r._paging.limit,totalData:r._paging.total_data,showRefresh:!1,showSearch:!1,showResultPage:!1,children:r._resources.map((e,t)=>{const m=(r._paging.page-1)*r._paging.limit+t+1;return j(A,{children:[o(n,{children:m}),o(n,{children:e.name}),o(n,{children:e.name}),o(n,{className:"items-center",children:o(D,{onClick:()=>T(e),className:"bg-green-500 text-white hover:bg-green-400 hover:text-gray-200",children:" Pilih"})})]},t)})})})}export{ae as default};
