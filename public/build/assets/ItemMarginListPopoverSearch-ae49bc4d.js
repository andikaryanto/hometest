import{r as s,a as o,j as x}from"./app-d2a3d537.js";import{w as N}from"./Api-80eca046.js";import{a as j,g as y}from"./Request-a7bce2e9.js";import{u as C,a as I}from"./app-fb271a11.js";import{T as B,a as R,b as g,B as A}from"./TableDetail-31226791.js";import{P as O}from"./PopoverInput-8f306410.js";import{i as d}from"./ItemMargin-b56d4323.js";import"./index.esm-2b0f1775.js";import"./BorderedRoundedButton-600ca3a5.js";import"./Button-6a81ea58.js";import"./TextInput-21fcf679.js";import"./PrimaryButton-c4bee480.js";import"./NoData-9ab3477f.js";function V({onSelect:m,item:a,...h}){const{theme:u}=C(),{borderTheme:f}=I(u),[t,_]=s.useState({_resources:[],_paging:{}}),[w,i]=s.useState({id:0,name:"",concat_name:""}),b=e=>{l(e)},[S,l]=s.useState(!1),[c,v]=s.useState({page:1,size:5,keyword:"",order_by:"id",order_direction:"ASC"}),p=(e={})=>{const n=j();y(N,n,e).then(r=>{r.status==200&&_(r.data.data)}).catch(r=>{})},P=e=>{v({...c,keyword:e.target.value}),p({...c,keyword:e.target.value})},T=e=>{m(e),i({...e,concat_name:e.id+"~"+e.name}),l(!1)},M=()=>{m(d),i({...d,concat_name:""})};s.useEffect(()=>{p(c),a&&Object.entries(a).length>0&&i({...a,concat_name:a.id>0?a.id+"~"+a.name:""})},[a]);const k=["No","Nama","Aksi"];return o(O,{...h,onClear:M,value:w.concat_name,placeholder:"Cari margin...",onChange:P,onPopoverState:b,isOpen:S,children:o(B,{text:"Margin",columns:k,className:`rounded-lg hadow-lg p-4 ${f} shadow`,showAddButton:!1,page:t._paging.page,size:t._paging.limit,totalData:t._paging.total_data,showRefresh:!1,showSearch:!1,showResultPage:!1,children:t._resources.map((e,n)=>{const r=(t._paging.page-1)*t._paging.limit+n+1;return x(R,{children:[o(g,{children:r}),o(g,{children:e.name}),o(g,{className:"items-center",children:o(A,{onClick:()=>T(e),className:"bg-green-500 text-white hover:bg-green-400 hover:text-gray-200",children:" Pilih"})})]},n)})})})}export{V as default};
